<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/profile.css">
    <title>Мессенджер</title>
  </head>
  <body>
    <main id="profile-container" class="main">

    </main>

    <div id="chat-popup"></div>

    <script type="text/x-handlebars-template" id="profile-template">
      <div class="chat-profile">
        <div class="chat-profile__container tile-block">
          <div class="chat-profile__avatar chat-avatar">
            <div class="chat-profile__avatar-img chat-avatar__img">
              <span>М</span>
              {{#if state.showInfo}}
              <button id="avatar-btn" class="chat-profile__avatar-btn">Поменять  аватар</button>
              {{/if}}
            </div>
            <div class="chat-profile__avatar-name chat-avatar__name">{{ data.first_name }} {{ data.second_name }}</div>
          </div>

          {{#if state.showInfo}}
          <form class="chat-form">

            <div class="chat-form__column">
              <div class="chat-input">
                <label class="chat-input__label">Имя</label>
                <input class="chat-input__input" type="text" name="first_name" disabled value="{{ data.first_name }}">
              </div>
              <div class="chat-input">
                <label class="chat-input__label">Почта</label>
                <input class="chat-input__input" type="text" name="email" disabled value="{{ data.email }}">
              </div>
              <div class="chat-input">
                <label class="chat-input__label">Логин</label>
                <input class="chat-input__input" type="text" name="login" disabled value="{{ data.login }}">
              </div>
            </div>

            <div class="chat-form__column">
              <div class="chat-input">
                <label class="chat-input__label">Фамилия</label>
                <input class="chat-input__input" type="text" name="second_name" disabled value="{{ data.second_name }}">
              </div>
              <div class="chat-input">
                <label class="chat-input__label">Телефон</label>
                <input class="chat-input__input" type="text" name="phone" disabled value="{{ data.phone }}">
              </div>
              <div class="chat-input">
                <label class="chat-input__label">Имя в чате</label>
                <input class="chat-input__input" type="text" name="display_name" disabled value="{{ data.display_name }}">
              </div>
            </div>

          </form>

          <div id="profile-btn" class="chat-profile__btn-container">
            <div class="chat-profile__btn-column">
              <div class="chat-form__btn" data-component="change-info-btn"></div>
              <div class="chat-form__btn" data-component="exit-btn"></div>
            </div>
            <div class="chat-profile__btn-column">
              <div class="chat-form__btn" data-component="change-password-btn"></div>
            </div>
          </div>
          {{/if}}

          {{#if state.changeData}}
          <form id="profile-form" class="chat-form">

            <div class="chat-form__column">
              <div class="chat-input">
                <label class="chat-input__label">Имя</label>
                <input class="chat-input__input" type="text" name="first_name" value="{{ data.first_name }}">
                <div class="chat-input__invalid hidden" data-input-name="first_name">Укажите имя</div>
              </div>
              <div class="chat-input">
                <label class="chat-input__label">Почта</label>
                <input class="chat-input__input" type="text" name="email" value="{{ data.email }}">
                <div class="chat-input__invalid hidden" data-input-name="email">Укажите почту</div>
              </div>
              <div class="chat-input">
                <label class="chat-input__label">Логин</label>
                <input class="chat-input__input" type="text" name="login" value="{{ data.login }}">
                <div class="chat-input__invalid hidden" data-input-name="login">Укажите логин</div>
              </div>
              <div data-component="save-btn" class="chat-form__btn"></div>
            </div>

            <div class="chat-form__column">
              <div class="chat-input">
                <label class="chat-input__label">Фамилия</label>
                <input class="chat-input__input" type="text" name="second_name" value="{{ data.second_name }}">
                <div class="chat-input__invalid hidden" data-input-name="second_name">Укажите фамилию</div>
              </div>
              <div class="chat-input">
                <label class="chat-input__label">Телефон</label>
                <input class="chat-input__input" type="text" name="phone" value="{{ data.phone }}">
                <div class="chat-input__invalid hidden" data-input-name="phone">Укажите телефон</div>
              </div>
              <div class="chat-input">
                <label class="chat-input__label">Имя в чате</label>
                <input class="chat-input__input" type="text" name="display_name" value="{{ data.display_name }}">
                <div class="chat-input__invalid hidden" data-input-name="display_name">Укажите отображаемое имя</div>
              </div>
            </div>

          </form>
          {{/if}}

          {{#if state.changePassword}}
          <form id="password-form" class="chat-form">
            <div class="chat-form__column">
              <div class="chat-input">
                <label class="chat-input__label">Старый пароль</label>
                <input class="chat-input__input" type="password" name="old_password" value="33333333">
                <div class="chat-input__invalid hidden" data-input-name="old_password">Укажите старый пароль</div>
              </div>
              <div class="chat-input">
                <label class="chat-input__label">Новый парольь</label>
                <input class="chat-input__input" type="password" name="new_password" value="8888888899">
                <div class="chat-input__invalid hidden" data-input-name="new_password">Укажите новый пароль</div>
              </div>
              <div class="chat-input">
                <label class="chat-input__label">Новый пароль (ещё раз)</label>
                <input class="chat-input__input" type="password" name="new_password_confirm" value="8888888899">
                <div class="chat-input__invalid hidden" data-input-name="new_password_confirm">Укажите новый пароль, ещё раз</div>
              </div>
              <div data-component="save-btn" class="chat-form__btn"></div>
            </div>
          </form>
          {{/if}}

        </div>
      </div>
    </script>

    <script type="text/x-handlebars-template" id="popup-template">
      <div class="chat-popup hidden">
        <div class="chat-popup__box">
          <h3 class="chat-title">Загрузите файл</h3>
          <div class="chat-input chat-file-input">
            <label for="file-input">Выберете файл на компьютере</label>
            <input id="file-input" type="file">
          </div>
          <div class="chat-popup__btn">
            <button class="chat-main-btn" type="submit">Поменять</button>
          </div>
          <div class="chat-btn-invalid">Необходимо выбрать файл</div>
        </div>
      </div>
    </script>

    <script src="dist/libs/handlebars.min-v4.7.6.js"></script>
    <script src="dist/pages/profile.js" type="module"></script>
  </body>
</html>
